{"version":3,"sources":["components/ErrorBoundary.js","components/Image.js","components/Item.js","components/Address.js","components/LoanApplicant.js","components/LoanTerms.js","components/Repayment.js","utils/util.js","components/Loan.js","pages/home/Home.js","App.js","index.js"],"names":["ErrorBoundary","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","error","children","react_default","a","createElement","React","Component","Image","_props$data","data","url","label","components_ErrorBoundary","className","src","alt","Item","heading","content","Array","join","getContent","Address","imageRef","createRef","map","findLocaiton","_this$props","lat","lng","options","zoom","center","window","google","maps","LatLng","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","Map","current","e","console","log","_this2","_this$props2","geocoder","Geocoder","initializeMap","geocode","address","concat","results","status","GeocoderStatus","OK","setCenter","geometry","location","Marker","position","ref","src_components_Item","LoanApplicant","name","Name","dob","phone","maritalStatus","numDependents","LoanTerms","duration","Duration","interest","amount","product","Repayment","repayments","d","Date","Amount","isValidData","schemaKey","currentSchema","schema","keys","i","length","key","val","dataVal","num","Loan","title","image","type","src_components_Image","src_components_Address","applicant","src_components_LoanApplicant","terms","src_components_LoanTerms","repayment","src_components_Repayment","Home","style","background","src_components_Loan","loan_type","values","App","home_Home","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4572423e.chunk.js","sourcesContent":["import React from \"react\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { error: true };\n  }\n\n  // componentDidCatch(err, errInfo) {\n  //   console.log(err, errInfo);\n  // }\n\n  render() {\n    const { error } = this.state;\n    const { children } = this.props;\n    return error ? (\n      <div>\n        <p>Oops, something went wrong</p>\n      </div>\n    ) : (\n      children\n    );\n  }\n}\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport ErrorBoundary from './ErrorBoundary';\nimport \"./Image.css\";\n\nconst Image = (props) => {\n  const {data: {url, label}} = props;\n  return (\n    <ErrorBoundary>\n      <div className=\"Image\">\n        <img src={url} alt={label} />\n        <div className=\"label\">{label}</div>\n      </div>\n    </ErrorBoundary>\n  )\n};\n\nexport default Image;","import React from 'react';\nimport \"./Item.css\";\n\nconst getContent = (content) => {\n  if(content instanceof Array){\n    return content.join(\",\");\n  }\n  return content;\n};\n\nconst Item = (props) => {\n  const {heading, content} = props;\n  return (\n    <div className=\"Item\">\n      <div className=\"Heading\">\n        {heading}\n      </div>\n      <div className=\"Content\">\n        {getContent(content)}\n      </div>\n    </div>\n  );\n};\n\nexport default Item;","import React from \"react\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport Item from \"./Item\";\nimport \"./Address.css\";\n\nclass Address extends React.Component {\n  constructor(props) {\n    super(props);\n    this.imageRef = React.createRef();\n    this.map = null;\n  }\n\n  componentDidMount() {\n    this.findLocaiton();\n  }\n\n  initializeMap() {\n    const { lat, lng } = this.props;\n    try {\n      const latlng = new window.google.maps.LatLng(lat, lng);\n      const options = {\n        zoom: 8,\n        center: latlng,\n        mapTypeId: window.google.maps.MapTypeId.ROADMAP,\n        disableDefaultUI: true\n      };\n      this.map = new window.google.maps.Map(this.imageRef.current, options);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  findLocaiton() {\n    const { lat, lng } = this.props;\n    try {\n      const geocoder = new window.google.maps.Geocoder();\n      this.initializeMap();\n      geocoder.geocode({ address: `${lat},${lng}` }, (results, status) => {\n        if (status === window.google.maps.GeocoderStatus.OK) {\n          this.map.setCenter(results[0].geometry.location);\n          const marker = new window.google.maps.Marker({\n            map: this.map,\n            position: results[0].geometry.location\n          });\n        } else {\n          console.log(\n            `Geocode was not successful for the following reason: ${status}`\n          );\n        }\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    const {\n      data: { address }\n    } = this.props;\n    return (\n      <ErrorBoundary>\n        <div className=\"Address Box\">\n          <div className=\"BoxHeading\">Borrower's Location</div>\n          <div ref={this.imageRef}></div>\n          <Item heading=\"Address\" content={address} />\n        </div>\n      </ErrorBoundary>\n    );\n  }\n}\n\nexport default Address;\n","import React from 'react';\nimport ErrorBoundary from './ErrorBoundary';\nimport Item from \"./Item\";\nimport \"./LoanApplicant.css\";\n\n\nconst LoanApplicant = (props) => {\n  const {data} = props;\n  const name = data.Name;\n  const dob = data[\"Date of Birth\"];\n  const phone = data[\"Phone Number\"];\n  const maritalStatus = data[\"Marital Status\"];\n  const numDependents = data[\"No of Dependents\"];\n  return (\n    <ErrorBoundary>\n      <div className=\"LoanApplicant Box\">\n        <div className=\"BoxHeading\">Applicant Details</div>\n        <Item heading=\"Name\" content={name} />\n        <Item heading=\"Date of Birth\" content={dob} />\n        <Item heading=\"Phone Number\" content={phone} />\n        <Item heading=\"Marital Status\" content={maritalStatus} />\n        <Item heading=\"No of Dependents\" content={numDependents} />\n      </div>\n    </ErrorBoundary>\n  )\n};\n\nexport default LoanApplicant;","import React from 'react';\nimport ErrorBoundary from './ErrorBoundary';\nimport Item from \"./Item\";\nimport \"./LoanTerms.css\";\n\n\nconst LoanTerms = (props) => {\n  const {data} = props;\n  const duration = data.Duration;\n  const interest = data[\"Interest Rate\"];\n  const amount = data[\"Loan Amount\"];\n  const product = data[\"Loan Product\"];\n\n  return (\n    <ErrorBoundary>\n      <div className=\"LoanTerms Box\">\n        <div className=\"BoxHeading\">Loan Terms</div>\n        <Item heading=\"Duration\" content={duration} />\n        <Item heading=\"Interest Rate\" content={interest} />\n        <Item heading=\"Loan Amount\" content={amount} />\n        <Item heading=\"Loan Product\" content={product} />\n      </div>\n    </ErrorBoundary>\n  )\n};\n\nexport default LoanTerms;","import React from \"react\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport Item from \"./Item\";\nimport \"./Repayment.css\";\n\nconst Repayment = props => {\n  const { data } = props;\n  const repayments = data.map(d => {\n    return (\n      <div className=\"RepaymentItem\">\n        <Item heading=\"Date\" content={d.Date} />\n        <Item heading=\"Amount\" content={d.Amount} />\n      </div>\n    );\n  });\n  return (\n    <ErrorBoundary>\n      <div className=\"Repayment Box\">\n        <div className=\"BoxHeading\">Repayment Schedule</div>\n        {repayments}\n      </div>\n    </ErrorBoundary>\n  );\n};\n\nexport default Repayment;\n","import schema from \"../mock/schema\";\n\nconst isValidData =  (schemaKey, data) => {\n  const currentSchema = schema[schemaKey];\n  const keys = Object.keys(currentSchema);\n  if(data instanceof Array) data = data[0];\n  for(let i=0;i<keys.length;i++) {\n    const key = keys[i];\n    if(key === \"type\") continue;\n    const val = currentSchema[key];\n    const dataVal = data[key];\n    if(!dataVal) return false;\n    if(val.num === \"1+\" && !(dataVal instanceof Array)) return false;\n  }\n  return true;\n};\n\nexport default isValidData;","import React from 'react';\nimport ErrorBoundary from './ErrorBoundary';\nimport Image from \"./Image\";\nimport Address from './Address';\nimport LoanApplicant from './LoanApplicant';\nimport LoanTerms from './LoanTerms';\nimport Repayment from './Repayment';\nimport isValidData from \"../utils/util\";\nimport \"./Loan.css\";\n\nconst Loan = (props) => {\n  const {schema, data} = props;\n  const {title} = data;\n  const image = isValidData(schema.image.type, data.image) ? \n    <Image data={data.image} /> : null;\n  const address = isValidData(schema[\"Borrower Location\"].type, data[\"Borrower Location\"]) ? \n    <Address data={data[\"Borrower Location\"]} /> : null;\n  const applicant = isValidData(schema[\"Applicant Details\"].type, data[\"Applicant Details\"]) ? \n    <LoanApplicant data={data[\"Applicant Details\"]} /> : null;\n  const terms = isValidData(schema[\"Loan Terms\"].type, data[\"Loan Terms\"]) ? \n    <LoanTerms data={data[\"Loan Terms\"]} /> : null;\n  const repayment = isValidData(schema[\"Repayment Schedule\"].type, data[\"Repayment Schedule\"]) ? \n    <Repayment data={data[\"Repayment Schedule\"]} /> : null;\n  return (\n    <ErrorBoundary>\n      <div className=\"Title\">{title}</div>\n      <div className=\"Loan\">\n        {image}\n        {address}\n        {applicant}\n        {terms}\n        {repayment}\n      </div>\n    </ErrorBoundary>\n  )\n};\n\nexport default Loan;","import React from \"react\";\nimport ErrorBoundary from \"../../components/ErrorBoundary\";\nimport schema from \"../../mock/schema.json\";\nimport data from \"../../mock/data.json\";\nimport Loan from \"../../components/Loan\";\n\nconst  Home = () => {\n  const style = {background: \"#eee\"};\n  return (\n    <div className=\"Home\" style={style}>\n      <ErrorBoundary>\n        <Loan schema={schema.loan_type} data={Object.values(data)[0]} />\n      </ErrorBoundary>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from \"react\";\nimport Home from \"./pages/home/Home\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}